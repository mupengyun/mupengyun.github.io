---
layout: post
title: 如何提高开发效率
date: 2016-12-08
tags: 杂谈  
---
最近接了一个小项目，预估2周，实际完成1个半月。对于强迫症和注重效率的我很不爽，我反思了下，写点小段子，希望以后自己能注意。

### 如何提高开效率

- **前言**

项目规划：需求很明确，重写接口。别人之前用C# 实现的，我改用JAVA,顺便解决下系统瓶颈。

`原计划开发时间:12d`

- 1d 调研源代码，找出问题，给出解决方案（我采用异步+多线程）

- 2d 熟悉源代码，这里需要提到大概有10个左右的方法，其实这里需要注意的是熟悉业务流程

- 4d 代码开发，这里给4天，足够了，真实开发，2个项目，4个接口大概也就3天足以。

- 5d  测试环境发布，生产环境发布，线上业务跟踪。

`实际开发时间：30d`

- 2d 项目分工开始，此时还在讨论需求是不是要重做，需不需要重写，需不需要用JAVA 重写，开会+领导分活。 2天就这样打了水漂。

反思： 按理说，这部分时间应该算在立项之前，很常见的现象，但是项目工期已经开始，却白白占用2天时间，这里可以和项目经理沟通，调整。

- 1d 获取源码

反思：代码放在nuget 上，小编没有权限，先找人开通权限，然后找领导获取源码，折腾了一上午，发现给定权限也无法获取，nuget 有问题？还是。。。。 这里就不纠结了，又浪费了一天。

- 4d 源代码拜读，小编比较菜，对于一个JAVA菜鸟，其实C# 代码很简单，但是有些地方还是和JAVA 略有不同，需要请教c# 的同事或者自行谷歌来解决。

反思：由于此处代码混乱，小编花了一天去整理项目结构，和给定需求的业务实现源码。花2天去拜读代码加业务咨询。再花一天去分析瓶颈，整理优化方案，立项。

- 3d 源代码重写

反思： 真正开发的时间，2个项目接口定义，代码功能基本实现 JAVA调用C# 采用wcf 遇到很多坑，坑，坑。

- 6d **单元测试。让项目跑起来，就这点比登天还难**

反思： 这是我最无法忍受的地方，总的来说，还是代码和各种环境缺失，导致耗时。 

* 测试环境寻找 此项目负责人离职 项目所用2个数据库，表和代码中的表不对应，DBA排查问题。请示领导，同步数据库，耗时1d
* 测试环境修复 拉取线上数据，同步测试 预发布 线上数据库。 耗时一天，什么都没做，干等。1d
* 测试环境弃用  改用预发布，同步数据，项目联调，调用他人服务报错，项目紧张，同事给了日志系统，日志不太清楚，所以我亲自查看了，调用接口服务方的源码，耗时1d
* bug 修复  调用多次无效，核查自身代码，发现坑爹之处 最后有处理数据，修改表操作，经核实，此处没有业务，这就纳闷了，是不是代码不是最新的。 1d
* 代码比对  申请线上服务器，下载线上代码，反编译c# 源码，与手中代码比对，确认代码无误差（配置文件还是有差异的），反复咨询业务，决定删除此处代码逻辑。 1d
* 代码修改  由于业务不存在，项目结构改变，删除所用数据库，数据表。 0.5d
* 联调   单元测试通过。 0.5d  

- 3d 测试环境发布

* 服务器域名，负载均衡申请，配置。gocd 发布程序，坑爹地方再次来了，测试环境docker 宿主机，容量不够，找服务器，部署docker host，添加gocd 自动化脚本，发布 1.5d
* 联调 功能测试，性能测试。 1.5d

- 5d 线上环境发布

反思： 测试环境已经联调完成，为何上线如此耗时？答案在于沟通，我因为询问咨询数据库密码，深深的感觉到了，沟通的重要性，那就是厚脸皮。

* 线上发布准备，线上服务器域名解析，负载均衡，机器申请，gocd  构建脚本。0.5d
* 线上数据库账户获取  此处再次坑爹，小编辑，问项目负责人询问账号密码，咨询过3个人，给过5个密码，没有一个正确的，最后的结论，找运维。 1d
* 获取数据库权限账号  原线上密码，进行加密串处理，所以需要找运维解密，获取 0.5d
* 线上联调 业务人员跟踪沟通，涉及线上真实是订单，需要，观察。  2d

- 6d 业务修改，恰逢双11，性能监测。

反思： 其实项目基本启动，没什么问题了，这里耗时可以理解，项目上线观察，加上业务逻辑有些地方的微改。可以不算在结项日期之内。



### 总结

所有的项目，总会遇到各种问题，但是我们总归要解决完成，无论是技术难点，还是基础环境，我们需要和多个部门，多个人打交道，这就会遇到不定期的延期，但项目截止时，我们可以发现
除去客观因素，我们自身需要做到以下几点就会事半功倍。

- 彻彻底底的明确需求，业务 本项目，如果我提前从线上拉取最新代码，反编译，即使服务方进行沟通，就能发现现在业务的漏洞和不准确，
- 找准人，遇到自身不能解决的问题，即使沟通，缠着对方，把你的时提上日程
- 多渠道，异步进行，域名申请之类的，线上数据库，负载配置，我们用到的，需要提前在开发的时候，并行进行。
- 真正技术的耽搁，在考虑实现接口定义之前问题不会太大，但对于啄摸超过1小时以上的点，可以请教前辈，会事半功倍
- 项目实施，直接与产品沟通，越级找业务是不正确的。也会影响效率
- 做事不要拖拉，我们效率高了，身边的同事也就高了，气氛是互相感染的，当我们无法决定一些事的时候，要坚持自己，对于提前完成的，或者项目因别的原因阻塞的时候，我们可以学习额外技术，
多思考深挖项目，不能养成坐以待毙，拖拖拉拉的习惯。问题迟早要解决，也迟早由我们解决。同样的项目，同样的技术，最优秀的那个总是善于思考，和对技术有新鲜感的那个。
- 团队合作，调用他人接口，及时沟通，找时间间隙，咨询他人问题，有耐心，去发现和学习同事的长处，代码编写风格，或者学习，解决问题的思路。每个人都有过人之处。
- 每个项目完结，回头反思，遇到问题和解决过程的不足。

