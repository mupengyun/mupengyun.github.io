---
layout: post
title: "JAVA 中的IO"
date: 2016-08-27 09:47:00 
description: "JAVA中的IO编程"
tag: JAVA
---
### JAVA 中的BIO,NIO,AIO 详解
>   我们所谈到的BIO,NIO,AIO 都是建立在java 语言智商。
    简单理解：BIO 同步阻塞  一个连接一个线程
             NIO 同步非阻塞  一个请求一个线程
             AIO 异步非阻塞  一个有效请求一个线程

#### 详解
BIO
：同步阻塞IO，服务器实现模式是一个连接一个线程，由于客户端请求服务器时需要启动一个线程进行处理，如果连接空闲，就会造成不必要的线程开销，通常用线程池
改善。适用于连接数比较小切固定的架构。JDK1.4之前
NIO
：同步非阻塞IO，服务器实现模式是一个请求一个线程，客户端发送连接请求事先注册到多路复用器上。多路复用器轮询到连接有I/O才会启动一个线程进行处理。
同时客户端进程需要时不时轮询IO是否就绪。适用于连接数多且连接时间较短的架构。JDK1.4之后
AIO
：异步非阻塞IO，客户端进程发起一个IO操作后立即返回。等IO操作完成后，会得到IO操作的完成，然后对数据进行处理。适用于连接数多且连接较长的架构JDK1.7开始支持

同步和异步是针对应用程序和内核的交互而言的，同步指的是用户进程触发IO操作并等待或者轮询的去查看IO操作是否就绪，而异步是指用户进程触发IO操作以后便开始做自己的事情，而当IO操作已经完成的时候会得到IO完成的通知。而阻塞和非阻塞是针对于进程在访问数据的时候，根据IO操作的就绪状态来采取的不同方式，说白了是一种读取或者写入操作函数的实现方式，阻塞方式下读取或者写入函数将一直等待，而非阻塞方式下，读取或者写入函数会立即返回一个状态值。 
所以,IO操作可以分为3类：同步阻塞（即早期的IO操作）、同步非阻塞（NIO）、异步（AIO）。 

事例：  
1.同步阻塞   医院取片，排队一个个来，排着队出结果了拿走
2.异步阻塞   医院取片，一个个来但是你可以去厕所，出结果了去取
3.异步阻塞   医院取片，留了个电话，出结果了。你就可以去取  
4.异步非阻塞 医院取片，留了个电话，出结果了。医院说给你送过去
